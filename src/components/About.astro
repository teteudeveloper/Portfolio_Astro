---
import TechStack from './TechStack';
import { dictionaries } from "../i18n";

const locale =
  Astro.cookies.get("locale")?.value === "pt" ? "pt" : "en";

const t = dictionaries[locale];
---

<section
  id="about"
  class="min-h-screen flex items-center pt-16 bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark"
>
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20">
      
      <div class="space-y-8">
        <h2 class="text-5xl lg:text-5xl font-bold text-center lg:text-left">
          {t.about.title}
        </h2>
        
        <div class="space-y-6 opacity-80">
          <p class="text-lg leading-relaxed">
            {t.about.paragraph1}
          </p>
          
          <p class="text-lg leading-relaxed">
            {t.about.paragraph2}
          </p>
        </div>

        <div class="flex justify-center lg:justify-start">
          <a 
            href="#projects" 
            id="about-cta-button"
            class="inline-flex items-center justify-center px-12 py-4 rounded-xl font-medium shadow-md hover:shadow-lg hover:scale-[1.02] transition-all duration-300"
          >
            {t.about.cta}
          </a>
        </div>

        <script>
          const button = document.getElementById('about-cta-button');
          if (button) {
            const updateButtonStyle = () => {
              if (document.documentElement.classList.contains('dark')) {
                button.style.backgroundColor = '#ffffff';
                button.style.color = '#000000';
              } else {
                button.style.backgroundColor = '#000000';
                button.style.color = '#ffffff';
              }
            };
            
            updateButtonStyle();
            const observer = new MutationObserver(updateButtonStyle);
            observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
          }
        </script>
      </div>

      <div>
        <h2 class="text-5xl lg:text-5xl font-bold mb-10 text-center lg:text-left">
          {t.about.skillsTitle}
        </h2>
        <TechStack client:load />
      </div>
    </div>
  </div>
</section>
